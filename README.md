# gbank_change_sample

## 説明
PC-9801E以降における、グラフィックVRAMのバンク切り替えの機能を確認する。

## ビルド方法
$ nasm -f bin -o gbanksmp.com gbanksmp.asm
※Makefile参照

## 動作環境

### OS
MS-DOS

### 確認環境
NEC PC-9801初代

## 詳細

プログラムの処理は以下の通り。

* グラフィック画面初期化
* 青プレーンに書き込み
* バンク#1に描画指定
* 赤プレーンに書き込み
* バンク#1を表示指定

※初期化時は以下を想定
* バンク#0を表示
* バンク#0に描画
* バンク#0、#1ともゼロクリア済み

※書き込みは、画面左上に8ドットの横線を描画する。

※描画指定、表示指定は以下のレジスタを操作する。<br>
(「UNDOCUMENTED 9801/9821 Vol.2 - メモリ・I/Oポート編」より)
<pre>
I/O	00A4h
名前	表示画面選択レジスタ
機能	[WRITE]
	bit 7～0: 表示プレーン選択
		00h= プレーン0
		01h= プレーン1
</pre>

プログラム終了後、バンク切り替えが正しくできていれば赤い線、できていなければ青＋赤＝マゼンタの線が描画されている。
